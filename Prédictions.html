<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Prédictions</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .encadre-texte {
            background-color: #f0f8ff;
            border-left: 6px solid #4a90e2;
            padding: 15px;
            font-family: 'Segoe UI', sans-serif;
            font-size: 1.1em;
            width: 60%;
            margin: 0 auto 20px auto;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: center;
            border-radius: 8px;
        }

        table {
            width: 80%;
            margin: auto;
            border-collapse: collapse;
            font-family: 'Segoe UI', sans-serif;
        }

        th, td {
            padding: 10px;
            text-align: center;
            border: 1px solid #aaa;
        }

        thead {
            background-color: #4a90e2;
            color: white;
        }

        #yearSelect {
            font-size: 1em;
            padding: 6px;
            margin: 10px auto 20px auto;
        }

        #tableContainer {
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <!-- ✅ Header partagé sera injecté ici -->
    <div id="header-placeholder"></div>

    <main>
        <section>
            <div class="encadre-texte">
                À chaque début d'année les stratégistes des grandes banques et fonds d'investissement dévoilent leurs prédictions sur le S&P 500 pour l'année à venir. Ils sont payés des millions par année et possèdent des modèles économétriques très avancés. Ils devraient être bons, n'est-ce pas ? Voyez par vous-mêmes !
            </div>

            <h2 style="text-align:center;">Prédictions du S&P 500</h2>

            <div style="text-align:center;">
                <label for="yearSelect">Choisissez une année :</label>
                <select id="yearSelect" onchange="displayTable(this.value)">
                    <option value="">-- Sélectionner --</option>
                    <option value="2022">2022</option>
                    <option value="2023">2023</option>
                </select>
            </div>

            <div id="tableContainer"></div>

            <h2 style="text-align:center; margin-top:40px;">Autres prédictions générales</h2>
            <table>
                <thead>
                    <tr>
                        <th>Année</th>
                        <th>Événement Prédit</th>
                        <th>Probabilité</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>2025</td>
                        <td>Déploiement massif de l’IA dans l’éducation</td>
                        <td>Élevée</td>
                    </tr>
                    <tr>
                        <td>2028</td>
                        <td>Généralisation des voitures autonomes</td>
                        <td>Moyenne</td>
                    </tr>
                    <tr>
                        <td>2030</td>
                        <td>Colonies expérimentales sur Mars</td>
                        <td>Faible</td>
                    </tr>
                </tbody>
            </table>
        </section>
    </main>

    <footer style="text-align:center; margin-top: 40px;">
        <p>&copy; 2025 - Finoza</p>
    </footer>

    <!-- ✅ Script pour charger le header -->
    <script>
        fetch('header.html')
            .then(res => res.text())
            .then(data => {
                document.getElementById('header-placeholder').innerHTML = data;
            })
            .catch(error => console.error('Erreur de chargement du header :', error));

        function displayTable(year) {
            const tables = {
                "2022": `
                    <table>
                        <thead>
                            <tr>
                                <th>Institution</th>
                                <th>Prévision Initiale</th>
                                <th>Révisions</th>
                                <th>Commentaires</th>
                                <th>Résultat Réel</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Oppenheimer</td>
                                <td>5 330 pts</td>
                                <td>4 800 ➝ 4 000</td>
                                <td>Inflation, taux Fed, rebond espéré</td>
                                <td>3 839 pts</td>
                            </tr>
                        </tbody>
                    </table>`,

                "2023": `
                    <table>
                        <thead>
                            <tr>
                                <th>Institution</th>
                                <th>Prévision</th>
                                <th>Scénario</th>
                                <th>Commentaires</th>
                                <th>Résultat Réel</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>RBC</td>
                                <td>4 200 – 4 900 pts</td>
                                <td>Récession, stagflation</td>
                                <td>Analyses de Lori Calvasina</td>
                                <td>4 769 pts</td>
                            </tr>
                        </tbody>
                    </table>`
            };

            document.getElementById("tableContainer").innerHTML = tables[year] || "<p style='text-align:center;'>Aucune donnée disponible pour cette année.</p>";
        }
    </script>

</body>
</html>
